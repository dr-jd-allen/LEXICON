# Google Cloud Platform Configuration for LEXICON

# GCP Project Settings
GCP_PROJECT_ID=spinwheel-464709
GCP_REGION=us-central1
ENVIRONMENT=production

# Cloud SQL Configuration
CLOUD_SQL_INSTANCE_NAME=lexicon-db
DATABASE_NAME=dify
DATABASE_USER=postgres
DATABASE_PASSWORD=your-secure-password
USE_PRIVATE_IP=false

# Cloud Storage Configuration
GCS_BUCKET_NAME=lexicon-documents

# Memorystore (Redis) Configuration
MEMORYSTORE_REDIS_HOST=10.x.x.x
MEMORYSTORE_REDIS_PORT=6379
MEMORYSTORE_REDIS_PASSWORD=your-redis-password
MEMORYSTORE_USE_SSL=true

# Dify Configuration (Updated for GCP)
SECRET_KEY=your-secret-key-here
DEPLOY_ENV=PRODUCTION
LOG_LEVEL=INFO
MIGRATION_ENABLED=true
CHECK_UPDATE_URL=https://updates.dify.ai

# When using Cloud Run with Cloud SQL
SQLALCHEMY_DATABASE_URI=postgresql://postgres:your-secure-password@/dify?host=/cloudsql/spinwheel-464709:us-central1:lexicon-db

# Redis URLs for Dify
REDIS_HOST=${MEMORYSTORE_REDIS_HOST}
REDIS_PORT=${MEMORYSTORE_REDIS_PORT}
REDIS_PASSWORD=${MEMORYSTORE_REDIS_PASSWORD}
REDIS_USE_SSL=true
REDIS_DB=0

# Celery Configuration
CELERY_BROKER_URL=rediss://:your-redis-password@10.x.x.x:6379/1
BROKER_USE_SSL=true

# Storage Configuration
STORAGE_TYPE=google-cloud-storage
STORAGE_GCS_BUCKET_NAME=${GCS_BUCKET_NAME}

# Vector Database Configuration
# Using Firestore + Vertex AI for vector search (GCP native)
VECTOR_STORE=firestore
FIRESTORE_PROJECT_ID=${GCP_PROJECT_ID}

# Alternative: Cloud SQL with pgvector extension
# VECTOR_STORE=pgvector
# PGVECTOR_HOST=/cloudsql/spinwheel-464709:us-central1:lexicon-db
# PGVECTOR_PORT=5432
# PGVECTOR_USER=${DATABASE_USER}
# PGVECTOR_PASSWORD=${DATABASE_PASSWORD}
# PGVECTOR_DATABASE=${DATABASE_NAME}

# Authentication
DIFY_API_KEY=your-dify-api-key
DIFY_WORKFLOW_ID=your-workflow-id

# CORS and Security
CONSOLE_CORS_ALLOW_ORIGINS=*
CONSOLE_WEB_URL=https://your-domain.com
SERVICE_API_URL=https://your-api-domain.com

# Mail Configuration (using SendGrid)
MAIL_TYPE=smtp
MAIL_DEFAULT_SEND_FROM=noreply@your-domain.com
SMTP_SERVER=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USERNAME=apikey
SMTP_PASSWORD=your-sendgrid-api-key
SMTP_USE_TLS=true

# Other Services
CODE_EXECUTION_ENDPOINT=http://sandbox:8194
CODE_EXECUTION_API_KEY=your-sandbox-key

# File Upload Limits
UPLOAD_FILE_SIZE_LIMIT=15
UPLOAD_FILE_BATCH_LIMIT=5
ETL_TYPE=dify
MULTIMODAL_SEND_IMAGE_FORMAT=base64

# Model Configuration (Using same models as Dify workflow)
DEFAULT_LLM_PROVIDER=openai

# Primary Models - OpenAI
OPENAI_API_KEY=${SECRET_openai-api-key}
OPENAI_O3_PRO_MODEL=o1-pro
OPENAI_O4_MINI_MODEL=o1-mini
OPENAI_GPT4_NANO_MODEL=gpt-4-turbo

# Primary Models - Anthropic  
ANTHROPIC_API_KEY=${SECRET_anthropic-api-key}
ANTHROPIC_OPUS_MODEL=claude-3-opus-20240229
ANTHROPIC_SONNET_MODEL=claude-3-sonnet-20240229

# Research Tools
TAVILY_API_KEY=${SECRET_tavily-api-key}
LEXIS_NEXIS_API_KEY=${SECRET_lexis-nexis-api-key}

# Optional - Google Models (via Vertex AI)
GOOGLE_GEMINI_MODEL=gemini-1.5-pro

# Application URLs
APP_WEB_URL=https://your-app.run.app
CONSOLE_API_URL=https://your-api.run.app
SERVICE_API_URL=https://your-api.run.app