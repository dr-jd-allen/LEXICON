# Google Cloud Platform Configuration for LEXICON

# GCP Project Settings
GCP_PROJECT_ID=your-project-id
GCP_REGION=us-central1
ENVIRONMENT=production

# Cloud SQL Configuration
CLOUD_SQL_INSTANCE_NAME=lexicon-db
DATABASE_NAME=dify
DATABASE_USER=postgres
DATABASE_PASSWORD=your-secure-password
USE_PRIVATE_IP=false

# Cloud Storage Configuration
GCS_BUCKET_NAME=lexicon-documents

# Memorystore (Redis) Configuration
MEMORYSTORE_REDIS_HOST=10.x.x.x
MEMORYSTORE_REDIS_PORT=6379
MEMORYSTORE_REDIS_PASSWORD=your-redis-password
MEMORYSTORE_USE_SSL=true

# Dify Configuration (Updated for GCP)
SECRET_KEY=your-secret-key-here
DEPLOY_ENV=PRODUCTION
LOG_LEVEL=INFO
MIGRATION_ENABLED=true
CHECK_UPDATE_URL=https://updates.dify.ai

# When using Cloud Run with Cloud SQL
SQLALCHEMY_DATABASE_URI=postgresql://postgres:your-secure-password@/dify?host=/cloudsql/your-project-id:us-central1:lexicon-db

# Redis URLs for Dify
REDIS_HOST=${MEMORYSTORE_REDIS_HOST}
REDIS_PORT=${MEMORYSTORE_REDIS_PORT}
REDIS_PASSWORD=${MEMORYSTORE_REDIS_PASSWORD}
REDIS_USE_SSL=true
REDIS_DB=0

# Celery Configuration
CELERY_BROKER_URL=rediss://:your-redis-password@10.x.x.x:6379/1
BROKER_USE_SSL=true

# Storage Configuration
STORAGE_TYPE=google-cloud-storage
STORAGE_GCS_BUCKET_NAME=${GCS_BUCKET_NAME}

# Vector Database Configuration (Options)
# Option 1: Use Cloud SQL with pgvector extension
VECTOR_STORE=pgvector
PGVECTOR_HOST=/cloudsql/your-project-id:us-central1:lexicon-db
PGVECTOR_PORT=5432
PGVECTOR_USER=${DATABASE_USER}
PGVECTOR_PASSWORD=${DATABASE_PASSWORD}
PGVECTOR_DATABASE=${DATABASE_NAME}

# Option 2: Deploy Weaviate on GKE or use managed service
# VECTOR_STORE=weaviate
# WEAVIATE_ENDPOINT=https://your-weaviate-instance.weaviate.network
# WEAVIATE_API_KEY=your-weaviate-api-key

# Authentication
DIFY_API_KEY=your-dify-api-key
DIFY_WORKFLOW_ID=your-workflow-id

# CORS and Security
CONSOLE_CORS_ALLOW_ORIGINS=*
CONSOLE_WEB_URL=https://your-domain.com
SERVICE_API_URL=https://your-api-domain.com

# Mail Configuration (using SendGrid)
MAIL_TYPE=smtp
MAIL_DEFAULT_SEND_FROM=noreply@your-domain.com
SMTP_SERVER=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USERNAME=apikey
SMTP_PASSWORD=your-sendgrid-api-key
SMTP_USE_TLS=true

# Other Services
CODE_EXECUTION_ENDPOINT=http://sandbox:8194
CODE_EXECUTION_API_KEY=your-sandbox-key

# File Upload Limits
UPLOAD_FILE_SIZE_LIMIT=15
UPLOAD_FILE_BATCH_LIMIT=5
ETL_TYPE=dify
MULTIMODAL_SEND_IMAGE_FORMAT=base64

# Model Configuration
DEFAULT_LLM_PROVIDER=openai
OPENAI_API_KEY=your-openai-api-key
ANTHROPIC_API_KEY=your-anthropic-api-key

# Application URLs
APP_WEB_URL=https://your-app.run.app
CONSOLE_API_URL=https://your-api.run.app
SERVICE_API_URL=https://your-api.run.app